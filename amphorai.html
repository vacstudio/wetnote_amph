<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WetNote - AmphorAI Mock-up</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/1.0.4/css/bulma.min.css" integrity="sha512-yh2RE0wZCVZeysGiqTwDTO/dKelCbS9bP2L94UvOFtl/FKXcNAje3Y2oBg/ZMZ3LS1sicYk4dYVGtDex75fvvA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- STYLES -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/select2.css" />

  <!-- SCRIPTS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
</head>
<body>

<!-- NAVIGATION BAR -->
<nav id="Navbar" class="navbar" role="navigation" aria-label="main navigation"></nav>

<!-- AMPHORAI SECTION -->
<section class="section">
  <div class="container">
    <div class="columns is-multiline">

      <!-- IMAGE UPLOAD -->
      <div class="column is-6 is-offset-3 has-text-centered p-6 my-6">
        <h1 class="title has-text-white">Image Analysis (Mock Preview)</h1>
        <p class="has-text-grey-light mb-4">Upload an amphora photo to see how AmphorAI will work in the future.<br>Your image is <strong>not saved</strong> and disappears when the page reloads.</p>

        <div class="box has-background-dark mt-6">
          <div class="file is-info is-boxed is-fullwidth">
            <label class="file-label">
              <input class="file-input" type="file" id="imageInput" accept="image/*">
              <span class="file-cta">
                <span class="file-icon is-size-1"><i class="fas fa-upload"></i></span>
                <span class="file-label">Choose an image…</span>
              </span>
            </label>
          </div>
        </div>

        <p class="has-text-grey-light mt-6">
          If you need a sample image for testing, you can download a dummy amphora photo 
          <a href="img/dummy/Richborough 527 Amphora.jpeg" download>here</a>.
        </p>
      </div>

      <!-- LEFT SIDE: preview -->
      <div id="leftBox" class="column is-6" style="display: none;">
        <div class="box has-background-dark">
          <h2 class="title is-5 has-text-white">Uploaded Image</h2>
          <figure id="uploadedImageContainer" class="image" style="display:none; width:100%; height:517px; background:#111; display:flex; align-items:center; justify-content:center; overflow:hidden;">
            <img id="uploadedImage" src="" alt="Uploaded preview" style="max-width:100%; max-height:100%; object-fit:contain; display:block;" />
            <figcaption id="uploadedCaption" class="has-text-grey-light is-size-7 mt-2"></figcaption>
          </figure>
          <p id="noImageText" class="has-text-grey-light">No image uploaded yet.</p>
        </div>
      </div>

      <!-- RIGHT SIDE: analysis -->
      <div id="rightBox" class="column is-6" style="display: none;">
        <div class="box has-background-dark">
          <h2 class="title is-5 has-text-white">Analysis (Mock)</h2>

          <div id="analysisPreloader" style="display:none;">
            <p class="has-text-grey-light">Analyzing image…</p>
            <br>
            <progress id="analysisProgress" class="progress is-info" max="100" value="0">0%</progress>
          </div>

          <div id="modelContainer" style="display:none; margin-top:1rem;">
            <p class="has-text-grey-light mb-3">Closest match (mock):</p>
            <model-viewer id="resultModel" src="data/models3d/richborough527/DRRICH1A.glb"
                          alt="Amphora model"
                          camera-controls
                          auto-rotate
                          style="width:100%; height:420px; background:#111;">
            </model-viewer>
            <div id="resultInfo" class="content has-text-grey-light mt-3">
              <strong>Match:</strong> Richborough 527<br>
              <strong>Confidence:</strong> 87% (mock)
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</section>

<!-- PARTNERS -->
<div id="Partners"></div>

<!-- FOOTER -->
<div id="Footer"></div>

<!-- SCRIPTS -->
<script type="module" src="script/main.js"></script>
<script src="script/amphorai.js"></script>

</body>
</html>
